local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")

local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera

local function getNearestTarget()
    local nearestTarget = nil
    local shortestDistance = math.huge

    for _, target in Workspace:GetChildren() do
        if target:IsA("Model") and target ~= LocalPlayer.Character then
            local targetPosition = target:GetPivot().Position
            local distance = (Camera.CFrame.Position - targetPosition).Magnitude

            if distance < shortestDistance then
                shortestDistance = distance
                nearestTarget = target
            end
        end
    end

    return nearestTarget
end

local function aimAtTarget(target)
    if target then
        local targetPosition = target:GetPivot().Position
        Camera.CFrame = CFrame.new(Camera.CFrame.Position, targetPosition)
    end
end

game:GetService("RunService").RenderStepped:Connect(function()
    local aimbotEnabled = LocalPlayer:FindFirstChild("AimbotEnabled")
    if aimbotEnabled and aimbotEnabled.Value then
        local target = getNearestTarget()
        aimAtTarget(target)
    end
end)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 100, 0, 50)
toggleButton.Position = UDim2.new(0, 10, 0, 10)
toggleButton.Text = "Toggle Aimbot"
toggleButton.Parent = PlayerGui:WaitForChild("ScreenGui")

local aimbotEnabled = Instance.new("BoolValue")
aimbotEnabled.Value = true
aimbotEnabled.Name = "AimbotEnabled"
aimbotEnabled.Parent = LocalPlayer

toggleButton.MouseButton1Click:Connect(function()
    aimbotEnabled.Value = not aimbotEnabled.Value
    toggleButton.Text = aimbotEnabled.Value and "Disable Aimbot" or "Enable Aimbot"
end)

